<UserControl x:Class="NfcTimeCard.Views.SystemSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="システム設定" FontSize="28" FontWeight="Bold" Foreground="#1a202c" Margin="0,0,0,30"/>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <TextBlock Text="管理者認証設定" FontWeight="Bold" Margin="0,0,0,10"/>
                <Grid Margin="0,0,0,25">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/><ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Margin="0,0,10,0">
                        <TextBlock Text="管理者ID" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                        <TextBox x:Name="TxtAdminId" Style="{StaticResource ModernInputStyle}"/>
                    </StackPanel>
                    <StackPanel Grid.Column="1" Margin="10,0,0,0">
                        <TextBlock Text="パスワード" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                        <PasswordBox x:Name="TxtPassword" Style="{StaticResource ModernInputStyle}"/>
                    </StackPanel>
                </Grid>

                <TextBlock Text="データベース設定" FontWeight="Bold" Margin="0,10,0,10"/>
                <TextBlock Text="DB保存フォルダパス" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                <Grid Margin="0,0,0,15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/><ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="TxtDbPath" Style="{StaticResource ModernInputStyle}"/>
                    <Button Grid.Column="1" Content="フォルダ選択" Margin="10,0,0,0" Padding="15,0" 
                            BorderBrush="#e2e8f0" BorderThickness="1" Background="White" Click="SelectFolder_Click" Cursor="Hand"/>
                </Grid>
                
                <TextBlock Text="DBファイル名" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                <TextBox x:Name="TxtDbFileName" Style="{StaticResource ModernInputStyle}" Margin="0,0,0,25"/>

                <TextBlock Text="顔認証・カメラ設定" FontWeight="Bold" Margin="0,10,0,10"/>
                <StackPanel Margin="0,0,0,25">
                    <TextBlock Text="使用するビデオデバイス" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                    <ComboBox x:Name="CmbVideoDevice" Height="40" VerticalContentAlignment="Center" TextSearch.TextPath="Name">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Name}"/>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                    <TextBlock Text="※顔認証に使用するUSBカメラ等を選択してください。" FontSize="11" Foreground="#94a3b8" Margin="4,5,0,0"/>
                </StackPanel>

                <TextBlock Text="端数・丸目処理設定" FontWeight="Bold" Margin="0,10,0,10"/>
                <Grid Margin="0,0,0,25">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/><ColumnDefinition/><ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Margin="0,0,10,0">
                        <TextBlock Text="出勤端数処理" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                        <ComboBox x:Name="CmbInRounding" Height="40" VerticalContentAlignment="Center">
                            <ComboBoxItem Content="切り上げ"/><ComboBoxItem Content="切り捨て" IsSelected="True"/>
                        </ComboBox>
                    </StackPanel>
                    <StackPanel Grid.Column="1" Margin="5,0,5,0">
                        <TextBlock Text="退勤端数処理" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                        <ComboBox x:Name="CmbOutRounding" Height="40" VerticalContentAlignment="Center">
                            <ComboBoxItem Content="切り上げ"/><ComboBoxItem Content="切り捨て" IsSelected="True"/>
                        </ComboBox>
                    </StackPanel>
                    <StackPanel Grid.Column="2" Margin="10,0,0,0">
                        <TextBlock Text="勤務時間丸め" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                        <ComboBox x:Name="CmbWorkRounding" Height="40" VerticalContentAlignment="Center">
                            <ComboBoxItem Content="なし" IsSelected="True"/><ComboBoxItem Content="15分"/><ComboBoxItem Content="30分"/>
                        </ComboBox>
                    </StackPanel>
                </Grid>

                <TextBlock Text="営業日設定" FontWeight="Bold" Margin="0,10,0,10"/>
                <Grid Margin="0,0,0,25">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Margin="0,0,10,0">
                        <TextBlock Text="締め日" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                        <ComboBox x:Name="CmbCutoffDay" Height="40" VerticalContentAlignment="Center">
                            <ComboBoxItem Content="本日" IsSelected="True"/>
                            <ComboBoxItem Content="翌日"/>
                        </ComboBox>
                    </StackPanel>

                    <StackPanel Grid.Column="1" Margin="5,0,5,0">
                        <TextBlock Text="締め時 (0～11)" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                        <TextBox x:Name="TxtCutoffHour" Style="{StaticResource ModernInputStyle}" 
                                 PreviewTextInput="NumberOnly_PreviewTextInput" MaxLength="2"/>
                    </StackPanel>

                    <StackPanel Grid.Column="2" Margin="10,0,0,0">
                        <TextBlock Text="締め分 (0～59)" FontSize="12" Foreground="#64748b" Margin="4,0,0,5"/>
                        <TextBox x:Name="TxtCutoffMinute" Style="{StaticResource ModernInputStyle}" 
                                 PreviewTextInput="NumberOnly_PreviewTextInput" MaxLength="2"/>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="DBファイル作成" 
                    Style="{StaticResource ActionButtonStyle}" 
                    Background="#f87171" 
                    Margin="0,0,15,0" 
                    Click="CreateDb_Click"/>
            
            <Button Content="保存" 
                    Style="{StaticResource ActionButtonStyle}" 
                    Click="SaveSettings_Click"/>
        </StackPanel>
    </Grid>
</UserControl>